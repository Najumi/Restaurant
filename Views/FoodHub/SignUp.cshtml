
@{
    ViewBag.Title = "SignUp";
}
<style>
    body{
        background-color:papayawhip;
    }
    .signUp-form, .signUp-Image {
        width: 90%;
        overflow: hidden;
        margin:auto;
    }

    .container {
        margin-top:40px;
        width: 900px;
        background: #ffff;
        display: flex;
        box-shadow: 0px 15px 16.83px 0.17px rgba(0, 0, 0, 0.05);
        border-radius: 20px;
        padding-bottom:10px;
    }
    .signUp-content {
        width: 50%;
        overflow: hidden;
    }
    img {
        margin-top:20px;
        max-width: 100%;
        
    }.link{
         margin-left:110px;
        
     }

</style>
<div class="container">
    <div class="signUp-content">
        <div class="signUp-form">
            <div id="validation-success"></div>
            @(Html.Kendo().Form<Restaurant.ViewModel.AddUser>()
            .Name("formExample")
            .HtmlAttributes(new { action = "SignIn", method = "POST" })
            .Validatable(v =>
            {
                v.ValidateOnBlur(true);
                v.ValidationSummary(vs => vs.Enable(false));
            })
            .Items(items =>
            {
                items.AddGroup()
                .Label("Registration Form")
                .Items(i =>
                {
                    i.Add()
                         .Field(f => f.FirstName)

                         .Label(l => l.Text("First Name:"))
                         .Id("Firstname")
                         .EditorTemplateHandler("firstNameEditor") ;
                    i.Add()
                        .Field(f => f.LastName)
                        .Label(l => l.Text("Last Name:"))
                        .Id("Lastname")
                        .EditorTemplateHandler("lastNameEditor");
                    i.Add()
                        .Field(f => f.Email)
                        .Label(l => l.Text("Email:"))
                        .Id("email")
                        .EditorTemplateHandler("emailEditor");
                    i.Add()
                        .Field(f => f.PhoneNo_)
                        .Label(l => l.Text("Phone no.:"))
                        .Id("phone")
                        .EditorTemplateHandler("phoneEditor");
                    i.Add()
                        .Field(f => f.Password)
                        .Label(l => l.Text("Password:"))
                        .Id("password")
                        .Hint("Hint: enter alphanumeric characters only.")
                        .EditorTemplateHandler("setPasswordEditor");
                });
            })
            .Events(ev => ev.ValidateField("onFormValidateField").Submit("onFormSubmit").Clear("onFormClear"))
            )
        </div>
    </div>
    <div class="signUp-content">
        <div class="signUp-Image">
            <figure><img src="~/Content/Images/test2.jpg" alt="sing up image"></figure>
            <span class="link">
                @Html.ActionLink("Already have an account", "SignIn", "FoodHub", new { area = "" }, null)
            </span>
        </div>
    </div>
</div>


    <script>
    function setPasswordEditor(container, options) {
        $('<input type="password" id="password" name="' + options.field + '" title="Password" required="required" autocomplete="off" aria-labelledby="Password-form-label" data-bind="value: Password" aria-describedby="Password-form-hint"/>')
            .appendTo(container)
            .kendoTextBox();
        }
        function emailEditor(container, options) {
            $('<input type="email" id="email" name="' + options.field + '" title="Email" required="required" />')
                .appendTo(container)
                .kendoTextBox();
        }
        function firstNameEditor(container, options) {
            $('<input type="name" id="Firstname" name="' + options.field + '" title="First Name" required="required" />')
                .appendTo(container)
                .kendoTextBox();
        }
        function lastNameEditor(container, options) {
            $('<input type="name" id="Lastname" name="' + options.field + '" title="Last Name" required="required" />')
                .appendTo(container)
                .kendoTextBox();
        }
        function phoneEditor(container, options) {
            $('<input type="tel" id="phone" name="' + options.field + '" title="Phone No." required="required" />')
                .appendTo(container)
                .kendoTextBox();
        }

    function onFormValidateField(e) {
        $("#validation-success").html("");
    }

    function onFormSubmit(e) {
        e.preventDefault();
        $.ajax({
            url: 'https://localhost:44348/api/values/signup',
            method: 'POST',
            data: {
                lastName: $('#Lastname').val(),
                firstName: $('#Firstname').val(),
                email: $('#email').val(),
                password: $('#password').val(),
                phoneNo_: $('#phone').val()
            },
            success: function (result) {
                $("#validation-success").html("<div class='k-messagebox k-messagebox-success'>Registration Successfull! GO to SignIn Page</div>");
                
            },
            error: function (msg) {
                $("#validation-success").html("<div class='k-messagebox k-messagebox-error'>User already exist</div>");
            }
        })
    }

    function onFormClear(e) {
        $("#validation-success").html("");
    }
    @*function registerscuccesful() {
        swal({

        })
    }*@
    </script>


